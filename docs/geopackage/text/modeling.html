

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Modeling Guidelines &mdash; OGC e-Learning 2.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="OGC e-Learning 2.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="GeoPackage" href="basic-index.html"/>
        <link rel="next" title="NSG Profile of GeoPackage" href="nsg-gpkg.html"/>
        <link rel="prev" title="Attributes and Extensions" href="attributes_extensions.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../index.html" class="icon icon-home"> OGC e-Learning
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../fundamental-concepts/text/index.html">Fundamental Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../fundamental-concepts/text/overview.html">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/overview.html#audience">Audience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/overview.html#learning-objectives">Learning Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/overview.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamental-concepts/text/basic.html">Interoperability</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/basic.html#the-internet-and-the-web">The Internet and the Web</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/basic.html#interoperability-is-essential">Interoperability Is Essential</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamental-concepts/text/open.html">Standards Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/open.html#the-need">The Need</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../fundamental-concepts/text/networking.html">Networking Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#url">URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#encodings">Encodings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#http">HTTP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#http-get">HTTP GET</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#http-post">HTTP POST</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#service-interfaces-and-operations">Service, Interfaces and Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#service">Service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#interface">Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#operation">Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#vacuum-cleaning-robot-analogy">Vacuum Cleaning Robot Analogy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#service-interface-and-operations">Service, Interface and Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../fundamental-concepts/text/networking.html#in-an-ogc-web-service">In an OGC Web Service</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ogc/text/index.html">Introduction to OGC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ogc/text/overview.html">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/overview.html#audience">Audience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/overview.html#learning-objectives">Learning Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/overview.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ogc/text/intro-ogc.html">OGC - The Organization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/intro-ogc.html#technical-committee">Technical Committee</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/intro-ogc.html#domain-working-groups">Domain Working Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/intro-ogc.html#standards-working-groups">Standards Working Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/intro-ogc.html#ogc-naming-authority-sub-committee">OGC Naming Authority Sub-Committee</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc/text/intro-ogc.html#compliance-interoperability-testing-evaluation-cite-sub-committee">Compliance Interoperability &amp; Testing Evaluation (CITE) Sub-Committee</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ogc-standards/text/index.html">Introduction to OGC Standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ogc-standards/text/overview.html">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/overview.html#audience">Audience</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/overview.html#learning-objectives">Learning Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/overview.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ogc-standards/text/services-ogc.html">Understanding OGC Standards</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/services-ogc.html#what-is-a-standard">What is a standard?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/services-ogc.html#open-standards">Open Standards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/services-ogc.html#open-standards-the-definition">Open Standards - the definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/services-ogc.html#example-of-a-rule-in-a-standard">Example of a rule in a standard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/services-ogc.html#types-of-standards">Types of Standards</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ogc-standards/text/service-architecture.html">OGC Service Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/service-architecture.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogc-standards/text/service-architecture.html#ows-common">OWS Common</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../data-encoding-standards/basic-index.html">Data Encoding Standards</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="basic-index.html">GeoPackage</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basic-index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="basic-index.html#contents">Contents</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="overview.html">GeoPackage - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="introduction.html">GeoPackage - Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="basic.html">Basic GeoPackage Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="contents.html">Content Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="tiles.html">Tiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="attributes_extensions.html">Attributes and Extensions</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Modeling Guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsg-gpkg.html">NSG Profile of GeoPackage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../gml/text/index.html">Geography Markup Language (GML)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../gml/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gml/text/index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../gml/text/overview.html">GML - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../gml/text/main.html">GML - Introduction</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data-access-standards/basic-index.html">Data Access Standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ogcapi-features/text/basic-index.html">OGC API - Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ogcapi-features/text/basic-index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ogcapi-features/text/basic-index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ogcapi-features/text/basic-overview.html">Overview, OGC API - Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ogcapi-features/text/basic-main.html">An Introduction to OGC API - Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ogcapi-features/text/operations.html">Resources of OGC API - Features</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../wfs/text/basic-index.html">Web Feature Service (WFS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wfs/text/basic-index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wfs/text/basic-index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wfs/text/basic-overview.html">WFS - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wfs/text/basic-main.html">WFS - Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wfs/text/operations.html">WFS - Operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../wcs/text/basic-index.html">Web Coverage Service (WCS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wcs/text/basic-index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wcs/text/basic-index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wcs/text/basic-overview.html">WCS - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wcs/text/basic-main.html">WCS - Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wcs/text/operations.html">WCS - Operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sta/text/index.html">SensorThings API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sta/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sta/text/index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sta/text/overview.html">SensorThings - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sta/text/main.html">SensorThings - Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sta/text/operations.html">SensorThings - Operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sos/text/index.html">Sensor Observation Service (SOS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sos/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sos/text/index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sos/text/overview.html">SOS - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sos/text/main.html">SOS - Main</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sos/text/operations.html">SOS - Operations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../processing/basic-index.html">Processing Standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../wps/text/basic-index.html">Web Processing Service (WPS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wps/text/basic-index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wps/text/basic-index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wps/text/basic-overview.html">WPS - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wps/text/basic-main.html">WPS - Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wps/text/operations.html">WPS - Operations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization-standards/basic-index.html">Visualization Standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../wms/text/basic-index.html">Web Map Service (WMS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wms/text/basic-overview.html">WMS - Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-overview.html#audience">Audience</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-overview.html#learning-objectives">Learning Objectives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-overview.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../wms/text/basic-main.html">WMS - Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-main.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-main.html#overview-of-wms-operations">Overview of WMS Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-main.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-main.html#client-usage">Client Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/basic-main.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../wms/text/operations.html">WMS - Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/operations.html#background">Background</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/operations.html#getcapabilities">GetCapabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/operations.html#getmap">GetMap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/operations.html#getfeatureinfo">GetFeatureInfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/operations.html#exceptions">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wms/text/operations.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../wmts/text/index.html">Web Map Tile Service (WMTS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../wmts/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wmts/text/index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../wmts/text/overview.html">WMTS - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wmts/text/main.html">WMTS - Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../wmts/text/operations.html">WMTS - Operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../kml/text/basic-index.html">KML</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../kml/text/basic-index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../kml/text/basic-index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../kml/text/basic-overview.html">KML Basic Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../kml/text/basic-main.html">KML</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sld/text/index.html">Styled Layer Descriptor (SLD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sld/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sld/text/index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sld/text/overview.html">SLD - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sld/text/main.html">SLD - Introduction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../se/text/index.html">Symbology Encoding (SE)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../se/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../se/text/index.html#contents">Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../se/text/overview.html">SE - Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../se/text/main.html">SE - Introduction</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../metadata-catalogue/index.html">Metadata and Catalogue Services Standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../metadata-catalogue/index.html#contents">Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cat/text/index.html">Catalogue Services for the Web (CSW)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cat/text/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../cat/text/index.html#contents">Contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../metadata/text/index.html">Metadata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../metadata/text/index.html#contents">Contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">OGC e-Learning</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../data-encoding-standards/basic-index.html">Data Encoding Standards</a> &raquo;</li>
      
          <li><a href="basic-index.html">GeoPackage</a> &raquo;</li>
      
    <li>Modeling Guidelines</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/geopackage/text/modeling.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="modeling-guidelines">
<h1>Modeling Guidelines<a class="headerlink" href="#modeling-guidelines" title="Permalink to this headline">¶</a></h1>
<p>The GeoPackage encoding standard mandates in Requirements <a class="reference external" href="http://www.geopackage.org/spec/#r22">22</a> and <a class="reference external" href="http://www.geopackage.org/spec/#r30">30</a> that vector feature user tables shall only have a single geometry. This is advantageous for two reasons:</p>
<ul class="simple">
<li><p>It keeps the semantics of the data model concise: a feature has one shape. This is in line with other vector data formats with which GeoPackage is often compared, such as Shapefile or GeoJSON. By sharing this restriction, converting data from one format to another is more straightforward. This is particularly beneficial in enterprise workflows. For example, mobile components use a GeoPackage to view the business data, while the web-clients use a GeoJSON version of the same.</p></li>
<li><p>Allowing multiple geometries per feature table would compromise GeoPackage’s position in the GIS application ecosystem. Most ready-made GIS data viewers handle data formats in a uniform manner. Opening a file creates a layer on map and the layer shows the features contained in that file. There are usually some UI-capabilities to view properties of a feature or change the styling of a feature. If feature tables were to contain multiple geometries, the visualization of a GeoPackage in such a COTS-viewer would be much more complicated. What geometry should be shown on the map? All of them? Only the first? Editing tools would create a similar set of problems.</p></li>
</ul>
<p>This restriction should not be seen as a limitation. Since a GeoPackage is a relational database, users can create rich data models to describe the required scenarios. Instead of adding more geometry columns to a single table, the general approach is to extract these geometries into a separate table, creating a one-to-many relationship between the geometries and the feature.</p>
<p>This document illustrates three different use-cases for associating multiple geometries with a single feature. For each, it:</p>
<ul class="simple">
<li><p>describes a common use-case</p></li>
<li><p>presents a corresponding example of the database schema</p></li>
<li><p>shows how these tables should be appropriately registered in the gpkg_* tables</p></li>
<li><p>shows how views can be used to enhance the utility and usability of the resulting GeoPackage</p></li>
</ul>
<div class="section" id="tracking-previous-geometries-of-a-single-feature">
<h2>Tracking previous geometries of a single feature<a class="headerlink" href="#tracking-previous-geometries-of-a-single-feature" title="Permalink to this headline">¶</a></h2>
<div class="section" id="example-use-case">
<h3>Example use case<a class="headerlink" href="#example-use-case" title="Permalink to this headline">¶</a></h3>
<p>You want to store the history of edits to the geometry of a pipe-feature. For each edit, you want to keep track of when that modification was made.</p>
<p>The last edit is the current geometry of the feature. This is the main pipe geometry that you want to present to your users by default.</p>
<p>Proposed Solution: Store the geometries of the feature in a table separate from the table that contains the pipe-metadata. These are the historical. Link these to the pipe-table.</p>
<p>Use a view to links a pipe to its most recent geometry. Add this view to the gpkg_contents table.</p>
</div>
<div class="section" id="table-design">
<h3>Table Design<a class="headerlink" href="#table-design" title="Permalink to this headline">¶</a></h3>
<img alt="../../images/mgimage001.png" src="../../images/mgimage001.png" />
</div>
<div class="section" id="view-design">
<h3>View Design<a class="headerlink" href="#view-design" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">VIEW</span> <span class="n">pipes_current</span> <span class="n">AS</span>
<span class="n">SELECT</span> <span class="n">shape</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">date_created</span><span class="p">),</span> <span class="nb">type</span>
<span class="n">FROM</span> <span class="n">pipe_history</span> <span class="k">as</span> <span class="n">A</span> <span class="n">JOIN</span> <span class="n">pipes</span> <span class="k">as</span> <span class="n">B</span>
<span class="n">ON</span> <span class="n">A</span><span class="o">.</span><span class="n">pipe_id</span><span class="o">=</span><span class="n">B</span><span class="o">.</span><span class="n">pipe_id</span>
<span class="n">GROUP</span> <span class="n">BY</span> <span class="n">B</span><span class="o">.</span><span class="n">pipe_id</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="table-entries">
<h3>Table Entries<a class="headerlink" href="#table-entries" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="id12">
<caption><span class="caption-text">Table 1: <code class="docutils literal notranslate"><span class="pre">gpkg_contents</span></code>
 :widths: 20 15 15 40 10
 :header-rows: 1</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data_type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">identifier</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srs_id</span></code></p></td>
</tr>
<tr class="row-even"><td><p>pipe_history</p></td>
<td><p>features</p></td>
<td><p>pipe_history</p></td>
<td><p>pipe edits</p></td>
<td><p>4326</p></td>
</tr>
<tr class="row-odd"><td><p>pipes_current</p></td>
<td><p>features</p></td>
<td><p>pipes_current</p></td>
<td><p>current pipes</p></td>
<td><p>4326</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id13">
<caption><span class="caption-text">Table 2: <code class="docutils literal notranslate"><span class="pre">gpkg_geometry_columns</span></code>
 :widths: 20 20 15 15 15 15
 :header-rows: 1</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">column_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">geometry_type_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srs_id</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-even"><td><p>pipe_history</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>pipes_current</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="features-consisting-of-multiple-components">
<h2>Features consisting of multiple components<a class="headerlink" href="#features-consisting-of-multiple-components" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>Example use case<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>You need to model a feature that has multiple geometries. Associated with this main feature, are ancillary features, each which its own properties and shape. For example, the main feature is a park with a polygon boundary. Associated with this park are entrances, which are modeled as points.</p>
</div>
<div class="section" id="proposed-solution">
<h3>Proposed Solution<a class="headerlink" href="#proposed-solution" title="Permalink to this headline">¶</a></h3>
<p>Store the main features separately from the ancillary features. This allows you to associate different metadata with each feature/subfeature.</p>
<p>The park – boundary + entrances – can be tied together by using a view. This provides the “overview” picture, which remodels the park as a collection of geometries.</p>
</div>
<div class="section" id="id4">
<h3>Table Design<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<img alt="../../images/mgimage002.png" src="../../images/mgimage002.png" />
</div>
<div class="section" id="id5">
<h3>View Design<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><em>Note: This statement uses the ST_* functions from the GPKG SQLite extension (cf. https://bitbucket.org/luciad/libgpkg)</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">VIEW</span> <span class="n">park_complete</span> <span class="n">AS</span>
<span class="n">SELECT</span> <span class="n">A</span><span class="o">.</span><span class="n">park_id</span><span class="p">,</span> <span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;GEOMETRYCOLLECTION(&#39;</span> <span class="o">||</span> <span class="n">ST_AsText</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;,&#39;</span> <span class="o">||</span> <span class="n">group_concat</span><span class="p">(</span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span> <span class="o">||</span><span class="s1">&#39;)&#39;</span><span class="p">)</span>  <span class="k">as</span> <span class="n">shape</span>
<span class="n">FROM</span> <span class="n">park_json</span> <span class="k">as</span> <span class="n">A</span>
<span class="n">JOIN</span> <span class="n">park_entrances_json</span> <span class="k">as</span> <span class="n">B</span>
<span class="n">ON</span> <span class="n">A</span><span class="o">.</span><span class="n">park_id</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">park_id</span>
<span class="n">GROUP</span> <span class="n">BY</span> <span class="n">A</span><span class="o">.</span><span class="n">park_id</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>Table Entries<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="id14">
<caption><span class="caption-text">Table 3: <code class="docutils literal notranslate"><span class="pre">gpkg_contents</span></code>
 :widths: 20 15 15 40 10
 :header-rows: 1</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data_type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">identifier</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srs_id</span></code></p></td>
</tr>
<tr class="row-even"><td><p>park</p></td>
<td><p>features</p></td>
<td><p>park</p></td>
<td><p>Park boundaries</p></td>
<td><p>4326</p></td>
</tr>
<tr class="row-odd"><td><p>park_entrances</p></td>
<td><p>features</p></td>
<td><p>park_entrances</p></td>
<td><p>Park entrances</p></td>
<td><p>4326</p></td>
</tr>
<tr class="row-even"><td><p>park_complete</p></td>
<td><p>features</p></td>
<td><p>park_complete</p></td>
<td><p>association of park boundary with entrances</p></td>
<td><p>4326</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id15">
<caption><span class="caption-text">Table 4: <code class="docutils literal notranslate"><span class="pre">gpkg_geometry_columns</span></code>
 :widths: 20 20 15 15 15 15
 :header-rows: 1</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">column_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">geometry_type_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srs_id</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-even"><td><p>park</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>park_entrance</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>park_complete</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="features-that-have-multi-resolution">
<h2>Features that have multi-resolution<a class="headerlink" href="#features-that-have-multi-resolution" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id7">
<h3>Example use case<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>For efficiency reasons, it is often desirable to have the same feature represented by different geometries of varying resolution. This is typically used for features with large extents, such as roads, rivers, municipal boundaries, etc …. The viewer application shows the coarser version of geometries at smaller scales (ie. zoomed out), while at larger scales (ie. zoomed in) it shows the most detailed version. In general, you would define a handful of scale-breaks upfront.</p>
</div>
<div class="section" id="id8">
<h3>Proposed Solution<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Suppose we have multiple resolutions for roads in a road dataset:</p>
<ul class="simple">
<li><p>Store all geometries in a table, separate from the properties of the road. Associate with each geometry the scale-break for which it applies. In our example, we are using the [min|max]scale_denominator columns to store the scale-break values.</p></li>
<li><p>A view joins together the properties with the geometries. This view will in effect contain many duplicates and should not be rendered as-is.</p></li>
</ul>
<p>This solution requires the viewer-application to apply the correct filtering, relying on the min-max scale associated with the geometry. That is, the application only renders the geometries which are appropriate for each scale-break. This is an application-level requirement, unrelated to the GeoPackage format, and the implementation depends on the particular product you would be using. For products that support SLD, this scale-based filtering is fairly straightforward. In your FeatureTypeStyle, create multiple rules, one for each scale-break on the map. In each rule, filter all the geometries that do not correspond to the desired scalebreak.</p>
<p>For example, in SLD, a rule to only show the roads with a coarse resolution (zoomed out) would look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Rule</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">Name</span><span class="o">&gt;</span><span class="n">small</span> <span class="n">scale</span><span class="o">&lt;/</span><span class="n">Name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">Description</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Title</span><span class="o">&gt;</span><span class="n">small</span> <span class="n">scaled</span> <span class="n">roads</span><span class="o">&lt;/</span><span class="n">Title</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Abstract</span><span class="o">&gt;</span><span class="n">shows</span> <span class="n">only</span> <span class="n">the</span> <span class="n">low</span> <span class="n">resolution</span> <span class="n">roads</span><span class="o">&lt;/</span><span class="n">Abstract</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">Description</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ogc</span><span class="p">:</span><span class="n">Filter</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ogc</span><span class="p">:</span><span class="n">PropertyIsGreaterThan</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">ogc</span><span class="p">:</span><span class="n">PropertyName</span><span class="o">&gt;</span><span class="n">min_scale_denominator</span><span class="o">&lt;/</span><span class="n">ogc</span><span class="p">:</span><span class="n">PropertyName</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">ogc</span><span class="p">:</span><span class="n">Literal</span><span class="o">&gt;</span><span class="mf">2.0E8</span><span class="o">&lt;/</span><span class="n">ogc</span><span class="p">:</span><span class="n">Literal</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ogc</span><span class="p">:</span><span class="n">PropertyIsGreaterThan</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">ogc</span><span class="p">:</span><span class="n">Filter</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MinScaleDenominator</span><span class="o">&gt;</span><span class="mf">2.0E8</span><span class="o">&lt;/</span><span class="n">MinScaleDenominator</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">LineSymbolizer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Stroke</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">SvgParameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;stroke&quot;</span><span class="o">&gt;</span><span class="c1">#0000ff&lt;/SvgParameter&gt;</span>
      <span class="o">&lt;</span><span class="n">SvgParameter</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;stroke-width&quot;</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&lt;/</span><span class="n">SvgParameter</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">Stroke</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">LineSymbolizer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Rule</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>Table Design<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<img alt="../../images/mgimage003.png" src="../../images/mgimage003.png" />
</div>
<div class="section" id="id10">
<h3>View Design<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">VIEW</span>  <span class="n">roads_all</span> <span class="n">AS</span>
<span class="n">SELECT</span>  <span class="o">*</span>
<span class="n">FROM</span> <span class="n">road</span> <span class="k">as</span> <span class="n">A</span>
<span class="n">JOIN</span> <span class="n">road_geometries</span> <span class="k">as</span> <span class="n">B</span>
<span class="n">ON</span> <span class="n">A</span><span class="o">.</span><span class="n">road_id</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">road_id</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>Table Entries<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="id16">
<caption><span class="caption-text">Table 5: <code class="docutils literal notranslate"><span class="pre">gpkg_contents</span></code>
 :widths: 20 15 15 40 10
 :header-rows: 1</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">data_type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">identifier</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srs_id</span></code></p></td>
</tr>
<tr class="row-even"><td><p>road_geometries</p></td>
<td><p>features</p></td>
<td><p>road_geometries</p></td>
<td><p>Multiple resolution for road geometries</p></td>
<td><p>4326</p></td>
</tr>
<tr class="row-odd"><td><p>roads_all</p></td>
<td><p>features</p></td>
<td><p>roads_all</p></td>
<td><p>Multiple resolutions for road geometries, associated with properties of the roads</p></td>
<td><p>4326</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id17">
<caption><span class="caption-text">Table 6: <code class="docutils literal notranslate"><span class="pre">gpkg_geometry_columns</span></code>
 :widths: 20 20 15 15 15 15
 :header-rows: 1</span><a class="headerlink" href="#id17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">table_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">column_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">geometry_type_name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">srs_id</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">z</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">m</span></code></p></td>
</tr>
<tr class="row-even"><td><p>road_geometries</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>roads_all</p></td>
<td><p>shape</p></td>
<td><p>Geometry</p></td>
<td><p>4326</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nsg-gpkg.html" class="btn btn-neutral float-right" title="NSG Profile of GeoPackage" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="attributes_extensions.html" class="btn btn-neutral" title="Attributes and Extensions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Open Geospatial Consortium. License: CC BY 3.0.
      Last updated on Mar 17, 2021.
    </p>
  </div>

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../static/jquery.js"></script>
      <script type="text/javascript" src="../../static/underscore.js"></script>
      <script type="text/javascript" src="../../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>